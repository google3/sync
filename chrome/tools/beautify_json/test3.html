<style type="text/css">
*{margin:0;padding: 0;}
pre{
	font-family: "Helvetica Neue",Helvetica,"Lucida Grande","Luxi Sans",Arial,"Hiragino Sans GB",STHeiti,"Microsoft YaHei","Wenquanyi Micro Hei","WenQuanYi Micro Hei Mono","WenQuanYi Zen Hei","WenQuanYi Zen Hei Mono",LiGothicMed;
	font-family: Menlo,Monaco,Consolas,"Courier New",monospace;
	font-size:16px;
}
ul{
	list-style:none;
	border-left: solid 1px green;
}
ul li{
	margin-left: 27px;
}
ul.hover{
	background: #dfdfdf;
}
.btn{padding-right:5px;cursor:pointer;padding:1px 3px;margin-left: -10px;color:red;}
.omit{color:gray;}
.hide{display:none;}
pre{
	background: #efefef;
	margin:10px;
	word-wrap: break-word;
	word-break: normal;
	white-space: pre-wrap;
}
.key{
	font-weight: bold;
}
.str{
	color:rgb(184,3,3);
}
.num{
	color:blue;
}
</style>
<script src="../../libs/jquery-2.0.3.min.js"></script>
<script>
var json = {
	name: 'zobor',
	age: 100,
	size: 180,
	arr: [
		[1,2],
		[3,4]
	],
	list:[
		100,
		200
	],
	map:{
		a:1,
		b:2
	},
	city: [
		{
			provinces: '湖北',
			name: '武汉'
		},
		{
			provinces: '广东',
			name: '深圳'
		}
	]
};

// json={"isLoaded":false,"ver":"$Rev: 11343 $","lastmodify":"$Date: 2011-09-29 10:37:23 +0800 (周四, 29 九月 2011) $","isDebug":false,"path":{"trimpath":"http://imgcache.qq.com/tencentvideo_v1/js/trimpath.min.js","filmCritic":"http://sns.video.qq.com/fcgi-bin/liveportal/getfilmcritic?otype=json","userComment":"http://sns.video.qq.com/fcgi-bin/liveportal/comment?otype=json","videoInfo":"http://sns.video.qq.com/tvideo/fcgi-bin/video?otype=json","videoTagInfo":"http://sns.video.qq.com/tvideo/fcgi-bin/vtag?otype=json","search_cgi":"http://v.qq.com/search.html?pagetype=3","search_suggest":"http://sns.video.qq.com/fcgi-bin/soso_suggestion?sm_category=3&sm_need_num=10&otype=json&sm_key=","search_suggest2":"http://s.video.qq.com/smartbox?plat=2&ver=0&num=10&otype=json&query=","pingfencgi":"http://sns.video.qq.com/fcgi-bin/portalscore?otype=json","favouritecgi":"http://sns.video.qq.com/fcgi-bin/liveportal/favorite","weiboget":"http://sns.video.qq.com/tvideo/fcgi-bin/opmicroblog?otype=json","weiboSend":"http://sns.video.qq.com/tvideo/fcgi-bin/pubmblog","weiboSend_2":"http://sns.video.qq.com/tvideo/fcgi-bin/livepubmblog4po","videoRelate":"http://sns.video.qq.com/tvideo/fcgi-bin/relatedvideo?otype=json","singerMVList":"http://sns.video.qq.com/tvideo/fcgi-bin/GetSingerMV?otype=json","flashReport":"http://rcgi.video.qq.com/tencentvideo_report?","html5_video_cgi":"http://vv.video.qq.com/geturl?otype=json","addMvMusicBox":"http://s.plcloud.music.qq.com/fcgi-bin/fcg_mvlist_add.fcg","queryMvMusicBox":"http://s.plcloud.music.qq.com/fcgi-bin/fcg_mvlist_isadded.fcg","delMvMusicBox":"http://s.plcloud.music.qq.com/fcgi-bin/fcg_mvlist_mod.fcg","mvMusicFav":"http://qzone-music.qq.com/fcg-bin/fcg_mvlist_add.fcg","videoViewNum":"http://sns.video.qq.com/tvideo/fcgi-bin/viewnum?otype=json","getCoverInfo":"http://sns.video.qq.com/fcgi-bin/coverdetail?otype=json","hls_video_cgi":"http://vv.video.qq.com/gethls?otype=json&format=2","coverViewNum":"http://sns.video.qq.com/fcgi-bin/dlib/dataout_pc?auto_id=55&otype=json","videoRecommend":"http://sns.video.qq.com/fcgi-bin/dlib/dataout_pc?auto_id=163&otype=json","bokeplayhost":"play.v.qq.com","kid_list_autodata":"http://sns.video.qq.com/fcgi-bin/dlib/dataout_pc?auto_id=53&","bookcgi":"http://sns.video.qq.com/fcgi-bin/liveportal/nbook","getBookCgi":"http://sns.video.qq.com/fcgi-bin/liveportal/norder","recommendCgi":"http://sns.video.qq.com/tvideo/fcgi-bin/spvote","queryHistoryRecordCgi":"http://ncgi.video.qq.com/tvideo/fcgi-bin/myview","addHistoryRecordCgi":"http://rcgi.video.qq.com/report/myviewreport","batchgetscoreCgi":"http://sns.video.qq.com/tvideo/fcgi-bin/batchgetscore","batchgetplaymount":"http://sns.video.qq.com/tvideo/fcgi-bin/batchgetplaymount","myopnumCgi":"http://ncgi.video.qq.com/tvideo/fcgi-bin/myopnum","getVideoListCgi":"http://c.v.qq.com/vuserinfor","getUserULikeCgi":"http://sns.video.qq.com/tvideo/fcgi-bin/favVideo","userOrderListCgi":"http://pay.video.qq.com/fcgi-bin/order","myinterestCgi":"http://ncgi.video.qq.com/tvideo/fcgi-bin/myinterest","myfollowfeedsCgi":"http://c.v.qq.com/myfollowfeeds","getVideoRecommonCgi":"http://sns.video.qq.com/tvideo/fcgi-bin/mediacommend","getCoverRecommonCgi":"http://sns.video.qq.com/fcgi-bin/dlib/dataout_pc?auto_id=162&","getUserUploadVideoNumCgi":"http://c.v.qq.com/uvcount","checkIsVip":"http://pay.video.qq.com/fcgi-bin/payvip?otype=json","getUserPayTicket":"http://pay.video.qq.com/fcgi-bin/getmyticket?otype=json","exchange":"http://pay.video.qq.com/fcgi-bin/cdkey_exchange?otype=json","userAllTicket":"http://pay.video.qq.com/fcgi-bin/user_ticket?otype=json","web_report":"http://rcgi.video.qq.com/web_report","getVuserInfo":"http://c.v.qq.com/vuserinfoget?otype=json","checkfollowviewed":"http://c.v.qq.com/checkfollowviewed?&otype=json","ulike":"http://like.video.qq.com/fcgi-bin/recommand?playright=2"},"Event":{"loadedFollow":"loaded_follow"},"template":{"trimpath":"http://qzs.qq.com/tencentvideo_v1/js/trimpath.min.js?max_age=60480000","_isLoadingJS":false,"_getJsDtd":null,"_callStack":0,"_currentTopModifiers":null,"FILL_TYPE":{"TPL_ID":1,"TPL_STR":2},"MODIFIERS":{}},"login":{"config":{"appid":"532001601","uinCookie":"uin","luinCookie":"luin","encuinCookie":"encuin","nickCookie":"lw_nick","quickLogin":true,"jumpurl":"","clientjumpurl":null,"showMask":true,"success":null,"logout":null,"rejectLogin":null,"login_cgi":"http://c.video.qq.com/cgi-bin/login?otype=json","renew_skey":"http://uple.qq.com/?t=aio_page&op=renew","show_uniq":false,"show_content":"","login_btn_text":"登录","logout_btn_text":"[退出]","logout_nick_html":"","disLogCallback":false,"useStrictLogin":true,"avatarSize":[40,100]}},"log_arr":["init page","call seedplayer.write"],"common":{"rootPath":"","conf":{"needGoToLoginPage":false,"needShowVipIcon":true,"needInitPageHotKey":true,"needWinSafariHack":false,"isFilmPage":false,"needInitSearchBar":true,"alwaysShowMytvMenu":false,"needInitNav":true,"useStrictLogin":true,"noRightTips":{"1":"暂不支持在网页播放，点击打开客户端播放","3":"暂不支持网页播放，请到视频手机端观看","4":"暂不支持网页播放，请到视频平板端观看","5":"暂不支持网页播放，请到视频手机端观看","8":"暂不支持网页播放，请到视频TV端观看","toclient":"暂不支持网页播放，请到视频客户端观看","none":"暂不支持网页播放"},"pageType":""},"popNameDef":{"SEARCH":"smartboxPop","HISTORY":"historyPop","COLLECT":"collectPop","MESSAGE":"mynoticePop","AVATAR":"avatarPop","LOGIN":"loginPop","TIPS":"tipsPop"},"_onScrollCbObj":{},"initPageFlag":true},"vip":{"onNotLogin":null},"history":{"option":{"coverid":"","tit":null,"lnk":null,"isPay":0,"vid":"","typeid":""},"nParamDef":{"BATCHINFO":8,"ONEINFO":7,"LIST":1,"DELETEONE":4},"rParamDef":{"ONEREPORT":3,"BATCHREPORT":4,"ONEINFO":6},"rfDefine":{"V":"v","FILM":"hlw"},"localStorageItemDefine":{"V":{"uins":"ten_video_history_uin_storage_key","history":"ten_video_history"},"FILM":{"uins":"txv_film_history_uin_storage","history":"txv_film_history"}},"site":"V","mod_id":"modHistoryContent","hisList":null,"storageReady":true,"localUserStorgeKeyArr":null,"uinStorageKey":"ten_video_history_uin_storage_key","historyKey":"ten_video_history","template":"<dd key=\"{key}\"><a href=\"{lnk}\" _hot=\"mynav.historylist.index\" _qtag=\"nav.history\" title=\"{hoverTit}\" target=\"{target}\" class=\"video_name\">{tit}</a><span class=\"video_timestamp\">{timeTips}</span><a href=\"javascript:;\" _hot=\"mynav.historydelete.index\"  _key=\"{key}\" data-type=\"del\" title=\"删除\" _idx={idx} class=\"btn_close\">×</a></dd>","rmAllTemp":"<a href=\"javascript:;\" class=\"btn_clear\" id=\"rmAllHistory\"><i class=\"ico_clear\"></i><span class=\"ico_text\">清空播放记录</span></a>","iframeTemp":"<iframe src=\"about:blank\" frameborder=\"0\" class=\"iframe_mask\"></iframe>","byDayTpl":"<dl class=\"timeline_video_list {cls}\">{day}{content}</dl>","dayTpl":"<dt><span class=\"dot_wrap\"><i class=\"dot\"></i></span><span class=\"timeline_date\">{text}</span></dt>","noResultTpl":"<div class=\"quick_pop_empty\"><i class=\"ico_history_95\"></i><p class=\"empty_txt\">{tips}</p></div>","notLoginNoResultTpl":"<div class=\"quick_pop_empty quick_pop_empty_login\"><a href=\"javascript:;\" class=\"btn_login\" data-type=\"login\"><span class=\"btn_inner\">登&nbsp;&nbsp;录</span></a><p class=\"empty_txt\">请登录查看历史记录</p></div>","getMoreBtnTpl":"<a href=\"http://v.qq.com/mytv/history.html\" target=\"_blank\" class=\"btn_pop_link _checklogin\" data-type=\"getMoreHistory\" _hot=\"mynav.historymore.index\"><span class=\"ico_text\">{tips}</span></a>","noResultCls":"mod_history_pop_nothing","noLoginCls":"mod_history_pop_login","emptyTips":"您暂时还没有历史记录","errorTips":"获取数据失败","timeLongLimit":300,"reportTimer":0,"reportToServerTimeLimit":30,"v2":true,"localAddLock":false,"isBatchReport":false,"playPageFlag":false,"navSize":5,"onesLocalSize":10,"timeFlagDef":{"finish":-2,"begin":-1},"lastReportToServerKeyid":"","pageType":"index","_onShowContentCbObj":{},"_onHideContentCbObj":{}},"headfavorite":{"conf":{"jsalias":"widget.follow_core","verStorageName":"txv_headfavorite_ver","jsStorageName":"txv_headfavorite_js","curVer":"2.0","localCacheTime":86400000,"containerId":"mod_head_favorites","trigglerId":"mod_head_favorites_trigger","popId":"mod_head_favorites_pop","contentTpl":"<ul class=\"attention_list\">{list}</ul><a href=\"http://v.qq.com/mytv/follow.html\" target=\"_blank\" class=\"btn_pop_link btn_pop_more\" _hot=\"mynav.followmore.{pageType}\"><span class=\"ico_text\">查看更多</span></a>","itemTpl":"<li class=\"{cls}\"><i class=\"ico_dot\"></i><a {idattr} href=\"{url}\" title=\"{hoverTitle}\" class=\"list_name\" target=\"{target}\" _hot=\"mynav.followlist.{pageType}\" _qtag=\"nav.follow\"><span class=\"list_type\">{tn}</span>{n}</a>{desc}</li>","showCls":"open","contentId":"mod_head_favorites_content","noContentCls":"quick_pop_empty","noContentTpl":"<div class=\"quick_pop_empty\"><i class=\"ico_favorites_95\"></i><p class=\"empty_txt\">{tips}</p></div>","noContentTips":"您暂时还没有关注记录","getDataErrorTips":"获取数据失败，请稍后尝试刷新页面","getingDataTips":"正在努力获取数据","notLoginCls":"mod_attention_pop_login","noPlayrightTips":"由于版权方要求，本视频只能使用腾讯视频客户端播放","notLoginTpl":"<div class=\"quick_pop_empty quick_pop_empty_login\"><a href=\"javascript:;\" data-type=\"login\" class=\"btn_login\"><span class=\"btn_inner\">登&nbsp;&nbsp;录</span></a><p class=\"empty_txt\">{tips}</p></div>","notLoginTips":"请登录查看关注记录","listSize":5},"_onShowListCb":{},"_onHideListCb":{},"userData":{},"pageType":"index","hoverHot":""},"index":{"config":{"preLoadSize":2,"focusPageSize":7,"browserTotal":3,"notSupport":3,"topadId":"head_ad","topadCloseId":"close_ad","bdCls":"page_head_ad","aid":""}},"nav":{"myhome":{}}}




function out_blank(num){
	return '';
	var ret=[];
	while(num>0){
		ret.push('    ');
		num --;
	}
	return ret.join('');
}

function escape_html(str){
	if(typeof str==='string'){
		var reg = /^https?:\/\/.*$/;
		str = str.replace(/</g,'&lt;').replace(/>/g,'&gt;')
		if(reg.test(str)){
			str = '<a href="'+str+'" target="_blank">' + str + '</a>';
		}
	}
	return str;
}

function _re_val(val){
	if(typeof val==='number'){
		return '<span class="num">' + escape_html(val) + '</span>';
	}else if(typeof val==='string'){
		return '<span class="str">"' + escape_html(val) + '"</span>';
	}
}

function bueatify(data){
	var html = [];
	var deep=0;
	var b_object = function(obj, deep, _html){
		deep ++;
		var obj_len=0;
		for(var i in obj){
			obj_len++;
		}
		var cur_index = 0;
		var is_last;
		for(var i in obj){
			cur_index++;
			is_last = cur_index===obj_len?true:false
			var col = obj[i];
			if($.isArray(col)){
				_html.push([
					'<li>',
					out_blank(deep),
					'<span class="btn">-</span>',
					'"',
					'<span class="key">'+escape_html(i)+'</span>',
					'": ',
					'<span class="mark_s">[</span>',
					'<span class="omit">...]</span>',
					b_array(col, deep, []),
					out_blank(deep),
					'<span class="mark_e">]</span>',
					(is_last?'':'<span class="comma">,</span>'),
					'</li>'
				].join(''));
			}else if(typeof col==='object'&&col&&col.constructor===Object){
				_html.push([
					'<li>',
					out_blank(deep),
					'<span class="btn">-</span>',
					'"',
					'<span class="key">'+escape_html(i)+'</span>',
					'": ',
					'<span class="mark_s">{</span>',
					'<span class="omit">...}</span>',
					b_object(col, deep, []),
					out_blank(deep),
					'<span class="mark_e">}</span>',
					(is_last?'':'<span class="comma">,</span>'),
					'</li>'
				].join(''));
			}else if(typeof col==='string'||typeof col==='number'){
				_html.push([
					'<li>',
					out_blank(deep),
					'"',
					'<span class="key">'+escape_html(i)+'</span>',
					'": ',
					_re_val(col),
					(is_last?'':','),
					'</li>'
				].join(''));
			}
		}
		return [
			'<ul>',
			_html.join(''),
			'</ul>'
		].join('')
	};
	var b_array = function(arr, deep,_html){
		deep++;
		var len = arr.length;
		var is_last;
		$(arr).each(function(index, val){
			is_last = len===(index+1);
			if($.isArray(val)){
				_html.push([
					'<li>',
					out_blank(deep),
					'<span class="btn">-</span>',
					'<span class="mark_s">[</span>',
					'<span class="omit">...]</span>',
					b_array(val, deep, []),
					out_blank(deep),
					'<span class="mark_e">]</span>',
					(is_last?'':'<span class="comma">,</span>'),
					'</li>'
				].join(''));
			}else if(typeof val==='object'&&val&&val.constructor===Object){
				_html.push([
					'<li>',
					out_blank(deep),
					'<span class="btn">-</span>',
					'<span class="mark_s">{</span>',
					'<span class="omit">...}</span>',
					b_object(val, deep, []),
					out_blank(deep),
					'<span class="mark_e">}</span>',
					(is_last?'':'<span class="comma">,</span>'),
					'</li>'
				].join(''));
			}else if(typeof val==='string'||typeof val==='number'){
				// html.push(out_blank(deep)+(escape_html(val))+(is_last?'':',')+'\n');
				_html.push([
					'<li>',
					out_blank(deep),
					_re_val(val),
					(is_last?'':'<span class="comma">,</span>'),
					'</li>'
				].join(''));
			}
		});
		return [
			'<ul>',
			_html.join(''),
			'</ul>'
		].join('')
	};
	if(typeof data==='object' && data.constructor===Object){
		// html.push(out_blank(deep)+'{\n');
		var ss=[
			'<li>',
			out_blank(deep),
			'<span class="btn">-</span>',
			'{',
			'<span class="omit">...}</span>',
			b_object(data,0,[]),
			out_blank(deep),
			'<span class="mark_e">}</span>',
			'</li>'
		].join('');
		return '<ul>' + ss + '</ul>';
		// html.push(out_blank(deep)+'}\n');
	}
	// return html.join('');
}


document.write([
	'<pre>',
	bueatify(json),
	'</pre>'
].join(''));
</script>

<script>
$('.omit').addClass('hide');
$('.btn').click(function(e){
	var tar = e.target;
	var $ul = $(tar).siblings('ul');
	var $omit= $(tar).siblings('.omit');
	var $m_e = $(tar).siblings('.mark_e');
	var $comma = $(tar).siblings('.comma');
	if($ul.is(':visible')){
		$ul.addClass('hide');
		$omit.removeClass('hide');
		$m_e.addClass('hide');
		$comma.addClass('hide');
		$(tar).html('+');
	}else{
		$ul.removeClass('hide');
		$omit.addClass('hide');
		$m_e.removeClass('hide');
		$comma.removeClass('hide');
		$(tar).html('-');
	}

});
$('ul').mouseenter(function(e){
	var tar = e.target;
	if(tar.nodeName.toLowerCase()!=='li'){
		return;
	}
	$('ul').removeClass('hover');
	$(tar).parent('ul').addClass('hover');
});
</script>